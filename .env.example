# Orbit Framework Environment Configuration Template
# Copy this file to .env and fill in the values for your environment

# Database
# PostgreSQL connection string; must be set and reachable
DATABASE_URL=postgresql://user:password@localhost:5432/orbit

# Server
# HTTP server port (default: 3000)
PORT=3000

# Global Control
# Set to "true" to pause all cycle execution (default: false)
ORBIT_GLOBAL_PAUSE=false

# Phase-1: Core Orchestration
# Cron expression for Phase-1 cycle scheduling (default: "0 0,12 * * *" = twice daily at midnight and noon UTC)
# Set to empty string to disable cron scheduling
# Examples:
#   "0 0 * * *"     = daily at midnight UTC
#   "0 */6 * * *"   = every 6 hours
#   "0 0,12 * * *"  = twice daily (default)
ORBIT_CRON_SCHEDULE=0 0,12 * * *

# Phase-2: Run Profile Orchestration
# Cron expression for run profile execution (optional, default: empty/disabled)
# Leave empty to disable or set to a cron expression
ORBIT_RUN_PROFILE_CRON_SCHEDULE=

# Dispatch Configuration
# JSON array of dispatch endpoint configurations
# Each endpoint must have: key, url, method ("POST" or "PUT"), and optional token
# Example with multiple endpoints:
#   [{"key":"aurora","url":"https://aurora.example.com/webhook","method":"POST","token":"secret-token"},{"key":"backup","url":"https://backup.example.com/dispatch","method":"POST"}]
# Typically Aurora webhook URL should be here
ORBIT_DISPATCH_ENDPOINTS=[{"key":"default-endpoint","url":"https://aurora.example.com/webhook","method":"POST","token":"your-aurora-webhook-token"}]

# Dispatch Retry Configuration
# Maximum number of attempts per dispatch job before it is moved to the dead-letter queue (default: 3)
ORBIT_MAX_DISPATCH_RETRIES=3

# Phase-3: Observability
# Number of days to retain hot telemetry events (default: 30)
# Events older than this are pruned or archived
ORBIT_TELEMETRY_RETENTION_DAYS=30

# Enable cold archive for telemetry events (default: false)
# When true, telemetry is moved to TelemetryArchive table before pruning
# Set to "true" to enable long-term archival
ORBIT_TELEMETRY_COLD_ARCHIVE_ENABLED=false

# Phase-4: Controlled Autonomy (DANGEROUS - Keep false unless explicitly needed)
# Enable Phase-4 autonomous profile mutation logic (default: false)
# MUST be "true" to allow any Phase-4 mutations
ORBIT_PHASE4_ENABLED=false

# Second safety gate for Phase-4 mutations (default: false)
# MUST BOTH be "true" for Phase-4 to actually mutate profiles
# This is an intentional double-guard to prevent accidental autonomous changes
ORBIT_PHASE4_ALLOW_MUTATION=false

# Environment
# Node environment; typically "development" or "production" (default: "development")
NODE_ENV=development
